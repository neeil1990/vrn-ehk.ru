{"version":3,"file":"registry.bundle.js","sources":["../src/note-error.js","../src/list-edit.js","../src/list-view.js","../src/property.js"],"sourcesContent":["import { BitrixVue } from 'ui.vue';\r\n\r\nBitrixVue.component('sale-checkout-view-property-note_error', {\r\n    props: ['message'],\r\n    template: `\r\n        <div class=\"invalid-feedback\">\r\n            {{message}}\r\n        </div>\r\n\t`\r\n});","import { BitrixVue } from 'ui.vue';\nimport { Property as Const } from 'sale.checkout.const';\n\nimport 'sale.checkout.view.element.input';\n\nimport './note-error'\n\nBitrixVue.component('sale-checkout-view-property-list_edit', {\n\tprops: ['items', 'errors', 'propertyVariants'],\n\tcomputed: {\n\t\tlocalize()\n\t\t{\n\t\t\treturn Object.freeze(\n\t\t\t\tBitrixVue.getFilteredPhrases('CHECKOUT_VIEW_PROPERTY_LIST_'))\n\t\t},\n\t},\n\tmethods: {\n\t\tgetErrorMessage(item)\n\t\t{\n\t\t\tlet error = this.errors.find(error => error.propertyId === item.id);\n\t\t\treturn typeof error !== 'undefined' ? error.message : null\n\t\t},\n\t\tisPhone(item)\n\t\t{\n\t\t\treturn item.type === Const.type.phone\n\t\t},\n\t\tisName(item)\n\t\t{\n\t\t\treturn item.type === Const.type.name\n\t\t},\n\t\tisEmail(item)\n\t\t{\n\t\t\treturn item.type === Const.type.email\n\t\t},\n\t\tisNumber(item)\n\t\t{\n\t\t\treturn item.type === Const.type.number\n\t\t},\n\t\tisCheckbox(item)\n\t\t{\n\t\t\treturn item.type === Const.type.checkbox\n\t\t},\n\t\tisDate(item)\n\t\t{\n\t\t\treturn item.type === Const.type.date\n\t\t},\n\t\tisDateTime(item)\n\t\t{\n\t\t\treturn item.type === Const.type.datetime\n\t\t},\n\t\tisEnum(item)\n\t\t{\n\t\t\treturn item.type === Const.type.enum\n\t\t},\n\t\tisFailure(item)\n\t\t{\n\t\t\treturn item.validated === Const.validate.failure\n\t\t},\n\t\tgetVariantsByPropertyId(propertyId)\n\t\t{\n\t\t\treturn this.propertyVariants.filter(variant => variant.propertyId === propertyId);\n\t\t},\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"checkout-basket-section checkout-basket-section-personal-form\">\n\t\t\t<h2 class=\"checkout-basket-title\">{{localize.CHECKOUT_VIEW_PROPERTY_LIST_VIEW_SHIPPING_CONTACTS}}</h2>\n\t\t\t<div class=\"form-group\" v-for=\"(item, index) in items\" :key=\"index\">\n\t\t\t\t<sale-checkout-view-element-input-property-text v-if=\"isName(item)\"\n\t\t\t\t\t:item=\"item\" \n\t\t\t\t\t:index=\"index\" \n\t\t\t\t\tautocomplete=\"name\"\n\t\t\t\t/>\n\t\t\t\t<sale-checkout-view-element-input-property-phone v-else-if=\"isPhone(item)\" \n\t\t\t\t\t:item=\"item\" \n\t\t\t\t\t:index=\"index\"\n\t\t\t\t/>\n\t\t\t\t<sale-checkout-view-element-input-property-email v-else-if=\"isEmail(item)\" \n\t\t\t\t\t:item=\"item\" \n\t\t\t\t\t:index=\"index\" \n\t\t\t\t\tautocomplete=\"email\" \n\t\t\t\t/>\n\t\t\t\t<sale-checkout-view-element-input-property-checkbox v-else-if=\"isCheckbox(item)\" \n\t\t\t\t\t:item=\"item\" \n\t\t\t\t\t:index=\"index\" \n\t\t\t\t\t:autocomplete=\"item.value\" \n\t\t\t\t/>\n\t\t\t\t<sale-checkout-view-element-input-property-number v-else-if=\"isNumber(item)\" \n\t\t\t\t\t:item=\"item\" \n\t\t\t\t\t:index=\"index\"\n\t\t\t\t/>\n\t\t\t\t<sale-checkout-view-element-input-property-date v-else-if=\"isDate(item) || isDateTime(item)\"\n\t\t\t\t\t:item=\"item\"\n\t\t\t\t\t:index=\"index\"\n\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t:isDateTime=\"isDateTime(item)\"\n\t\t\t\t/>\n\t\t\t\t<sale-checkout-view-element-input-property-enum v-else-if=\"isEnum(item)\"\n\t\t\t\t\t:item=\"item\"\n\t\t\t\t\t:index=\"index\"\n\t\t\t\t\t:variants=\"getVariantsByPropertyId(item.id)\"\n\t\t\t\t/>\n\t\t\t\t<sale-checkout-view-element-input-property-text v-else\n\t\t\t\t\t:item=\"item\" \n\t\t\t\t\t:index=\"index\" \n\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t/>\n\n\t\t\t\t<sale-checkout-view-property-note_error v-if=\"isFailure(item)\"\n\t\t\t\t\t:message=\"getErrorMessage(item)\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t`\n});","import { BitrixVue } from 'ui.vue';\nimport { Type } from 'main.core';\nimport { Property as Const } from 'sale.checkout.const';\n\nBitrixVue.component('sale-checkout-view-property-list_view', {\n    props: ['items', 'number', 'propertyVariants'],\n\tcomputed:\n\t{\n\t\tlocalize() {\n\t\t\treturn Object.freeze(\n\t\t\t\tBitrixVue.getFilteredPhrases('CHECKOUT_VIEW_PROPERTY_LIST_VIEW_'))\n\t\t},\n\t\tgetTitle()\n\t\t{\n\t\t\tlet message = this.localize.CHECKOUT_VIEW_PROPERTY_LIST_VIEW_ORDER_TITLE;\n\t\t\treturn message.replace('#ORDER_NUMBER#', this.number);\n\t\t},\n\t\tgetPropertiesShort()\n\t\t{\n\t\t\tconst properties = [];\n\n\t\t\tfor (let propertyId in this.items)\n\t\t\t{\n\t\t\t\tif (Type.isStringFilled(this.items[propertyId].value))\n\t\t\t\t{\n\t\t\t\t\tproperties.push(this.items[propertyId].value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn properties.join(', ');\n\t\t},\n\t},\n\tmethods: {\n\t\tresolveValue(item)\n\t\t{\n\t\t\tif (item.type === Const.type.checkbox)\n\t\t\t{\n\t\t\t\treturn item.value === 'Y'\n\t\t\t\t\t? this.localize.CHECKOUT_VIEW_PROPERTY_LIST_VIEW_CHECKBOX_Y\n\t\t\t\t\t: this.localize.CHECKOUT_VIEW_PROPERTY_LIST_VIEW_CHECKBOX_N\n\t\t\t}\n\t\t\telse if (item.type === Const.type.enum)\n\t\t\t{\n\t\t\t\treturn this.propertyVariants.find(variant => variant.value === item.value && variant.propertyId === item.id).name\n\t\t\t}\n\n\t\t\treturn item.value;\n\t\t}\n\t},\n    template: `\n\t\t<div class=\"checkout-basket-section\">\n\t\t<h2 class=\"checkout-basket-title\">{{localize.CHECKOUT_VIEW_PROPERTY_LIST_VIEW_PROPERTIES}}</h2>\n\t\n\t\t\t\t\t\t<div class=\"checkout-item-personal-order-info\">\n\t\t\t\t\t\t\t<div class=\"checkout-item-personal-order-payment\">\n\t\t\t\t\t\t\t\t<div v-for=\"(item, index) in items\" :key=\"index\">{{item.name}}: <b>{{resolveValue(item)}}</b></div>\n<!--\t\t\t\t\t\t\t\t<div>{{getPropertiesShort}}</div>-->\n\t\t\t\t\t\t\t</div>\n<!--\t\t\t\t\t\t\t<div class=\"checkout-item-personal-order-shipping\">-->\n<!--\t\t\t\t\t\t\t\t<strong>{{localize.CHECKOUT_VIEW_PROPERTY_LIST_VIEW_SHIPPING_METHOD}}</strong>-->\n<!--\t\t\t\t\t\t\t\t<div>{{localize.CHECKOUT_VIEW_PROPERTY_LIST_VIEW_SHIPPING_METHOD_DESCRIPTION}}</div>-->\n<!--\t\t\t\t\t\t\t</div>-->\n\t\t\t\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t`\n});\n\n","import { BitrixVue } from 'ui.vue';\nimport { Application } from 'sale.checkout.const';\n\nimport 'sale.checkout.view.property';\n\nBitrixVue.component('sale-checkout-view-property', {\n    props: ['items', 'mode', 'order', 'propertyVariants', 'errors'],\n    computed:\n    {\n        getConstMode()\n        {\n            return Application.mode\n        }\n    },\n    template: `\n\t\t<div>\n\t\t    <template v-if=\"mode === getConstMode.edit\">\n\t\t         <sale-checkout-view-property-list_edit :items=\"items\" :errors=\"errors\" :propertyVariants=\"propertyVariants\"/>\n\t\t    </template>\n\t\t    <template v-else>\n\t\t        <sale-checkout-view-property-list_view :items=\"items\" :number=\"order.accountNumber\" :propertyVariants=\"propertyVariants\"/>\n            </template>\n        </div>\n\t`\n});"],"names":["BitrixVue","component","props","template","computed","localize","Object","freeze","getFilteredPhrases","methods","getErrorMessage","item","error","errors","find","propertyId","id","message","isPhone","type","Const","phone","isName","name","isEmail","email","isNumber","number","isCheckbox","checkbox","isDate","date","isDateTime","datetime","isEnum","isFailure","validated","validate","failure","getVariantsByPropertyId","propertyVariants","filter","variant","getTitle","CHECKOUT_VIEW_PROPERTY_LIST_VIEW_ORDER_TITLE","replace","getPropertiesShort","properties","items","Type","isStringFilled","value","push","join","resolveValue","CHECKOUT_VIEW_PROPERTY_LIST_VIEW_CHECKBOX_Y","CHECKOUT_VIEW_PROPERTY_LIST_VIEW_CHECKBOX_N","getConstMode","Application","mode"],"mappings":"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"}